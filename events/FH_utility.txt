add_namespace = griffonia_activity
add_namespace = zebrica_activity
add_namespace = equestria_activity

###Equus###
country_event = { #SMH or YAH wars with the other
	id = equestria_activity.1
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.1"}
	hidden = yes
	
	is_triggered_only = yes
	
	option = {
		random_list = {
			45 = {
				modifier = {
					SMH = { is_ai = no }
					factor = 0
				}
				SMH = {
					declare_war_on = {
						target = YAH
						type = annex_everything
					}
					country_event = {
						id = equestria_activity.2
						days = 30
						random_days = 10
					}
				}
			}
			45 = {
				modifier = {
					YAH = { is_ai = no }
					factor = 0
				}
				YAH = {
					declare_war_on = {
						target = SMH
						type = annex_everything
					}
					country_event = {
						id = equestria_activity.2
						days = 30
						random_days = 10
					}
				}
			}
			10 = { }
		}
	}
}

country_event = { #White peace yak warlords
	id = equestria_activity.2
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.2"}
	hidden = yes
	
	is_triggered_only = yes
	
	option = {
		IF = {
			limit = {
				SMH = {
					has_offensive_war_with = YAH
				}
			}
			white_peace = YAH
			set_global_flag = {
				flag = YAH_recent_warlord_fight
				days = 150
				value = 1
			}
		}
		ELSE_IF = {
			limit = {
				YAH = {
					has_offensive_war_with = SMH
				}
			}
			white_peace = SMH
			set_global_flag = {
				flag = YAH_recent_warlord_fight
				days = 150
				value = 1
			}
		}
	}
}

country_event = { #YAH wars SMH for good
	id = equestria_activity.3
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.3"}
	hidden = yes
	
	is_triggered_only = yes
	
	option = {
		declare_war_on = {
			target = SMH
			type = annex_everything
		}
	}
}

#country_event = { #MWR leaves STG
#	id = equestria_activity.4
#	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.4"}
#	hidden = yes
#
#	trigger = {
#		original_tag = MWR
#		exists = yes
#		has_war = no
#		date > 1050.7.1
#	}
#
#	fire_only_once = yes
#
#	option = {
#		leave_faction = yes
#		OVERLORD = {
#			end_puppet = ROOT
#		}
#		set_politics = {
#			ruling_party = fascism
#			elections_allowed = no
#		}
#		add_popularity = {
#			ideology = fascism
#			popularity = 0.33
#		}
#		random_list = {
#			35 = {
#				STG = {
#					declare_war_on = {
#						target = MWR
#						type = puppet_wargoal_focus
#					}
#				}
#			}
#			65 = {
#				remove_from_array = { global.shield_of_steel = ROOT.id }
#			}
#		}
#	}
#}

country_event = { #WHY gets the option to stay or leave SOL
	id = equestria_activity.11
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.11"}
	title = equestria_activity.11.t
	desc = equestria_activity.11.d
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #We are a natural part of the Empire
		name = equestria_activity.11.a
		ai_chance = {
			factor = 1
			modifier = { is_historical_focus_on = yes factor = 0 }
		}
	}
	option = { #They can no longer protect us
		name = equestria_activity.11.b
		ai_chance = {
			factor = 1
		}
		drop_cosmetic_tag = yes
		EQS = {
			end_puppet = WHY
			remove_from_faction = WHY
			set_variable = { equestria_conquest = 0 }
			country_event = {
				id = equestria_activity.12
				days = 1
			}
		}
	}
	after = {
		hidden_effect = {
			country_event = {
				id = equestria_activity.13
				days = 270
				random_days = 100
			}
		}
	}
}

country_event = { #Whinnyapolis leaves the sphere of influence of the Solar Empire
	id = equestria_activity.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event equestria_activity.12"}
	title = equestria_activity.12.t
	#desc = "With our slipping grip on Whinnyapolis, Solar Strike has formally withdrawn from the Imperium of the Sun. Citing that the Empress is unable to protect them or provide in case of emergency, he has centralized his power even more and now rules Whinnyapolis with no recognition of the Empire."
	desc = equestria_activity.12.d
	
	is_triggered_only = yes
	
	option = { #They will pay for their insolence!
		name = equestria_activity.12.a
		add_political_power = -50
	}
}

country_event = { #Opaline tries to coup WHY to become leader
	id = equestria_activity.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event equestria_activity.13"}
	title = equestria_activity.13.t
	desc = equestria_activity.13.d
	is_triggered_only = yes
	
	option = { #She be leading, bb
		name = equestria_activity.13.a
		WHY_Opaline_Arcana = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = solarism
					expire = "1965.1.1"
					traits = { unchecked_ambition }
				}
			}
			promote_leader = yes
			hidden_effect = { remove_trait = { trait = recently_promoted } }
		}
		retire_character = WHY_Solar_Strike
		remove_ideas = WHY_imperial_military_junta
		if = {
			limit = {
				is_subject_of = EQS
			}
			EQS = {
				end_puppet = WHY
				remove_from_faction = WHY
				set_variable = { equestria_conquest = 0 }
			}
			drop_cosmetic_tag = yes
		}
		set_cosmetic_tag = WHY_G5
		news_event = fhequusnews.1
	}
	option = { #She do be failing, tho
		name = equestria_activity.13.b
		ai_chance = {
			modifier = { is_historical_focus_on = yes factor = 0 }
		}
		retire_character = WHY_Opaline_Arcana
		news_event = fhequusnews.2
	}
}

country_event = { #CER forms alliance with CLD
	id = equestria_activity.19
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.19"}
	hidden = yes
	
	trigger = {
		original_tag = CER
		exists = yes
		is_subject = no
		date > 1051.4.17
	}
	
	fire_only_once = yes
	
	option = {
		create_faction = CER_dem_faction
		add_to_faction = CLD
		news_event = fhequusnews.3
		hidden_effect = {
			remove_opinion_modifier = {
				target = CLD
				modifier = CER_CLD_unrecognized_successor
			}
			CLD = {
				remove_opinion_modifier = {
					target = CER
					modifier = CER_CLD_unrecognized_successor
				}
			}
		}
	}
}

country_event = { #CER reaches out to NER to join
	id = equestria_activity.20
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.20"}
	hidden = yes
	
	trigger = {
		original_tag = CER
		exists = yes
		is_faction_leader = yes
		date > 1052.1.1
		NER = {
			exists = yes
			NOT = { is_subject_of = SLE }
		}
	}
	
	fire_only_once = yes
	
	option = {
		NER = {
			country_event = equestria_activity.21
		}
	}
}

country_event = { #NER gets to choose if they join CER's faction or not
	id = equestria_activity.21
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.21"}
	title = equestria_activity.21.t
	desc = equestria_activity.21.d
	
	is_triggered_only = yes
	
	option = { #We will restore what Equestria once was, together!
		name = equestria_activity.21.a
		ai_chance = {
			modifier = { is_historical_focus_on = yes add = 10 }
		}
		CER = { add_to_faction = NER }
	}
	option = { #We can't make a deal with them!
		name = equestria_activity.21.b
		ai_chance = {
			modifier = { has_war_with = WHY factor = 0 }
		}
		CER = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = NER
			}
		}
	}
}

country_event = { #CER sends an invitation to BLS
	id = equestria_activity.22
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.22"}
	hidden = yes
	
	trigger = {
		original_tag = CER
		exists = yes
		is_faction_leader = yes
		BLS = {
			exists = yes
			NOT = { is_subject_of = SLE }
		}
		date > 1052.3.1
	}
	
	fire_only_once = yes
	
	option = {
		BLS = {
			country_event = equestria_activity.23
		}
	}
}

country_event = { #BLS is allowed to choose if they join CER's faction or not
	id = equestria_activity.23
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.23"}
	title = equestria_activity.23.t
	desc = equestria_activity.23.d
	
	is_triggered_only = yes
	
	option = { #So long as we are allowed to continue our science projects!
		name = equestria_activity.23.a
		ai_chance = {
			modifier = { is_historical_focus_on = yes add = 10 }
		}
		trigger = {
			NOT = { has_country_flag = BLS_solar_flare_resurrected }
		}
		CER = { add_to_faction = BLS }
	}
	option = { #We have done fine on our own!
		name = equestria_activity.23.b
		trigger = {
			NOT = { has_country_flag = BLS_solar_flare_resurrected }
		}
		ai_chance = {
			modifier = { has_war_with = WHY factor = 0 }
		}
		CER = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BLS
			}
		}
	}
	option = { #They think that they are my equals?!
		name = equestria_activity.23.c
		trigger = { has_country_flag = BLS_solar_flare_resurrected }
		CER = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BLS
			}
		}
	}
}

country_event = { #CER prepares to finish off WHY
	id = equestria_activity.24
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.24"}
	title = equestria_activity.24.t
	desc = equestria_activity.24.d
	
	trigger = {
		original_tag = CER
		exists = yes
		has_war = no
		is_faction_leader = yes
		date > 1054.1.1
		CLD = {
			OR = {
				exists = no
				is_in_faction_with = ROOT
			}
		}
		CER = {
			OR = {
				exists = no
				is_in_faction_with = ROOT
			}
		}
		NER = {
			OR = {
				exists = no
				is_in_faction_with = ROOT
			}
		}
		BLS = {
			OR = {
				exists = no
				is_in_faction_with = ROOT
			}
		}
		WHY = {
			exists = yes
			NOT = { is_subject_of = SLE }
		}
	}
	
	fire_only_once = yes
	
	option = { #We must stabilize before we can focus on the true enemy
		name = equestria_activity.24.a
		create_wargoal = {
			target = WHY
			type = puppet_wargoal_focus
		}
	}
}

country_event = { #CER creates a united heartlands
	id = equestria_activity.25
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.25"}
	title = equestria_activity.25.t
	desc = equestria_activity.25.d
	
	trigger = {
		original_tag = CER
		OR = {
			WHY = { is_subject_of = ROOT }
			NOT = { country_exists = WHY }
		}
		exists = yes
		is_subject = no
	}
	
	fire_only_once = yes
	
	option = { #We must integrate to fight the Solarists!
		name = equestria_activity.25.a
		set_cosmetic_tag = CER_equestrian_heart
		annex_country = {
			target = CLD
			transfer_troops = yes
		}
		if = {
			limit = {
				country_exists = NER
			}
			annex_country = {
				target = NER
				transfer_troops = yes
			}
		}
		if = {
			limit = {
				country_exists = BLS
			}
			annex_country = {
				target = BLS
				transfer_troops = yes
			}
		}
		if = {
			limit = {
				country_exists = WHY
			}
			annex_country = {
				target = WHY
				transfer_troops = yes
			}
		}
		if = {
			limit = {
				country_exists = EQS
			}
			create_wargoal = {
				type = annex_everything
				target = EQS
			}
		}
		if = {
			limit = {
				country_exists = SLW
			}
			create_wargoal = {
				type = annex_everything
				target = SLW
			}
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = BLS
					is_core_of = WHY
					is_core_of = NER
					is_core_of = CLD
				}
			}
			add_core_of = ROOT
		}
		news_event = fhequusnews.4
	}
}

country_event = { #CER unites the heartlands completely with EQS's conquest
	id = equestria_activity.26
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.26"}
	title = equestria_activity.26.t
	desc = equestria_activity.26.d
	
	trigger = {
		original_tag = CER
		exists = yes
		NOT = { country_exists = SLW }
		NOT = { country_exists = EQS }
	}
	
	fire_only_once = yes
	
	option = { #We have achieved peace!
		name = equestria_activity.26
		set_cosmetic_tag = EQS_NEW
		every_state = {
			limit = {
				is_core_of = EQS
			}
			add_core_of = ROOT
		}
		set_capital = { state = 3 }
		set_province_name = { id = 179 name = renamed_canterlot }
		hidden_effect = {
			news_event = fhequusnews.5
		}
	}
}

country_event = { #AWR is couped by unhappy peasants
	id = equestria_activity.27
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.27"}
	title = equestria_activity.27.t
	desc = equestria_activity.27.d
	
	is_triggered_only = yes
	
	option = {
		name = equestria_activity.27.a
		custom_effect_tooltip = AWR_freefalling_tt
		hidden_effect = {
			STG = { end_puppet = AWR }
			set_cosmetic_tag = AWR_free
			country_event = {
				id = equestria_activity.28
				days = 30
				random_days = 250
			}
			retire_character = AWR_Dumb_Luck
		}
	}
}

country_event = { #AWR is couped again by unhappy soldiers or sailors
	id = equestria_activity.28
	immediate = {log = "[GetDateText]: [Root.GetName] event equestria_activity.28"}
	hidden = yes
	
	is_triggered_only = yes
	
	option = {
		set_cosmetic_tag = AWR_doubleplusfree
		STG = {
			set_country_flag = STG_spurned_AWR_puppet
		}
		retire_character = AWR_Sheer_Skill
	}
}

###Griffonia###

country_event = { #BRF forms free country federation
	id = griffonia_activity.16
	immediate = {log = "[GetDateText]: [Root.GetName] event griffonia_activity.15"}
	title = griffonia_activity.16.t
	desc = griffonia_activity.16.d
	hidden = yes
	
	trigger = {
		original_tag = BRF
		is_faction_leader = yes
		date > 1052.5.1
	}
	
	fire_only_once = yes
	
	option = {
		name = griffonia_activity.16.a
		annex_country = {
			target = LUS
			transfer_troops = yes
		}
		annex_country = {
			target = GRY
			transfer_troops = yes
		}
		annex_country = {
			target = GRU
			transfer_troops = yes
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = LUS
					is_core_of = GRY
					is_core_of = GRU
					is_claimed_by = GRU
				}
			}
			add_core_of = BRF
		}
		set_cosmetic_tag = BRF_united
	}
}

###Zebrica###
country_event = { #HPS joins EQC if they win
	id = zebrica_activity.1
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.1"}
	title = zebrica_activity.1.t
	desc = zebrica_activity.1.d
	hidden = yes
	
	trigger = {
		original_tag = HPS
		exists = yes
		is_subject = no
		is_in_faction = no
		has_war = no
		NOT = {
			country_exists = HRL
			country_exists = DOH
			country_exists = HIP
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = zebrica_activity.1.a
		EQC = {
			add_to_faction = HPS
			country_event = {
				id = zebrica_activity.2
				days = 730
				random_days = 365
			}
		}
	}
}

country_event = { #HPS is annexed by EQC
	id = zebrica_activity.2
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.2"}
	title = zebrica_activity.2.t
	desc = zebrica_activity.2.d
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = zebrica_activity.2.a
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			set_autonomy = {
				target = HPS
				autonomous_state = autonomy_integrated_puppet
			}
		}
	}
}

country_event = { #HIP potentially wars DOH
	id = zebrica_activity.3
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.3"}
	title = zebrica_activity.3.t
	desc = zebrica_activity.3.d
	hidden = yes
	
	trigger = {
		original_tag = HIP
		exists = yes
		has_war = no
		is_subject = no
		NOT = { country_exists = HRL }
		NOT = { country_exists = HPS }
	}
	
	fire_only_once = yes
	
	option = {
		name = zebrica_activity.3.a
		random_list = {
			55 = {
				DOH = {
					country_event = zebrica_activity.4
				}
			}
			45 = {
				remove_from_faction = DOH
				declare_war_on = {
					target = DOH
					type = annex_everything
				}
			}
		}
	}
}

country_event = { #DOH potentially wars HIP
	id = zebrica_activity.4
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.4"}
	title = zebrica_activity.4.t
	desc = zebrica_activity.4.d
	hidden = yes
	is_triggered_only = yes
	
	option = {
		name = zebrica_activity.4.a
		random_list = {
			75 = {
				leave_faction = yes
				declare_war_on = {
					target = HIP
					type = annex_everything
				}
			}
			25 = { }
		}
	}
}

country_event = { #Winner of the HIP war cores territory
	id = zebrica_activity.5
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.5"}
	title = zebrica_activity.5.t
	desc = zebrica_activity.5.d
	hidden = yes
	
	trigger = {
		OR = {
			original_tag = HIP
			original_tag = HPS
			original_tag = HRL
			original_tag = DOH
		}
		exists = yes
		has_war = no
	}
	
	fire_only_once = yes
	
	option = {
		name = zebrica_activity.5.a
		every_state = {
			limit = {
				OR = {
					is_core_of = HIP
					is_claimed_by = HIP
				}
				is_owned_by = ROOT
			}
			add_core_of = ROOT
		}
		IF = {
			limit = {
				DOH = {
					is_in_faction_with = HIP
				}
			}
			every_state = {
				limit = {
					is_claimed_by = HIP
					is_owned_by = DOH
				}
				add_core_of = DOH
			}
			remove_ideas = HPS_HIP_civil_war
		}
		remove_ideas = HPS_HIP_civil_war
	}
}

country_event = { #OAU causes problems in BAT
	id = zebrica_activity.6
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.6"}
	title = zebrica_activity.6.t
	desc = zebrica_activity.6.d
	hidden = yes
	
	trigger = {
		original_tag = BAT
		date > 1053.6.20
		any_state = {
			OR = {
				STATE = 691 #New Mareidian, Ursagrad
				STATE = 692 #Manerba, Manerba Midoun
				STATE = 728 #Tobuck
				STATE = 729 #Darnaigh
				STATE = 815 #Huiactlali
				STATE = 1205 #Miharzehir
			}
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = zebrica_activity.6.a
		random_list = {
			33 = {
				every_state = {
					limit = {
						is_owned_and_controlled_by_ROOT_or_ally = yes
						OR = {
							STATE = 691 #New Mareidian, Ursagrad(cursed)
							STATE = 692 #Manerba, Manerba Midoun
							STATE = 728 #Tobuck
							STATE = 729 #Darnaigh
							STATE = 815 #Huiactlali, Moonspeaker(cringe) Hollow
							STATE = 1205 #Miharzehir
						}
					}
					transfer_state_to = OAU
				}
				OAU = {
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
					load_oob = "OAU_uprising"
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = BAT
							is_core_of = ZAR
							is_core_of = NZA
						}
					}
					add_core_of = OAU
				}
				transfer_ship = {
					type = destroyer
					target = OAU
				}
				transfer_ship = {
					type = destroyer
					target = OAU
				}
				transfer_ship = {
					type = destroyer
					target = OAU
				}
				transfer_ship = {
					type = destroyer
					target = OAU
				}
				transfer_ship = {
					type = destroyer
					target = OAU
				}
				transfer_ship = {
					type = destroyer
					target = OAU
				}
				transfer_ship = {
					type = light_cruiser
					target = OAU
				}
				transfer_ship = {
					type = light_cruiser
					target = OAU
				}
				transfer_ship = {
					type = submarine
					target = OAU
				}
				transfer_ship = {
					type = submarine
					target = OAU
				}
				transfer_ship = {
					type = submarine
					target = OAU
				}
			}
			67 = { }
		}
	}
}

country_event = { #MGY wars REM for their core territory
	id = zebrica_activity.7
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.7"}
	hidden = yes
	
	trigger = {
		original_tag = MGY
		exists = yes
		has_war = no
		is_subject = no
		date > 1052.4.20
	}
	
	fire_only_once = yes
	
	option = {
		random_neighbor_country = {
			limit = {
				any_controlled_state = {
					is_in_array = { REM.original_cores = THIS }
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			every_controlled_state = {
				limit = {
					is_claimed_by = ROOT #previsouly removing claim will break this moment so it would need to be changed with is_in_array check(s)
				}
				add_core_of = ROOT
				remove_claim_by = ROOT
			}
		}
	}
}

#country_event = { #EMR wars ABY
#	id = zebrica_activity.8
#	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.8"}
#	hidden = yes
#
#	trigger = {
#		original_tag = EMR
		# exists = yes
		# is_subject = no
		# any_owned_state = {
		# 	is_coastal = yes
		# 	is_neighbor_of = YMN
		# }
#		date > 1050.3.12
#	}
#
#	fire_only_once = yes
#
#	option = {
#		declare_war_on = {
#			target = ABY
#			type = annex_everything
#		}
#	}
#}
#
#country_event = { #EMR annexes YMN
#	id = zebrica_activity.9
#	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.9"}
#	hidden = yes
#
#	trigger = {
#		original_tag = EMR
#		date > 1053.7.1
#	}
#
#	fire_only_once = yes
#
#	option = {
#		annex_country = {
#			target = YMN
#			transfer_troops = yes
#		}
#		every_state = {
#			limit = {
#				is_core_of = YMN
#			}
#			add_core_of = EMR
#		}
#	}
#}

#country_event = { #EMR wars KAR
#	id = zebrica_activity.10
#	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.10"}
#	hidden = yes
#
#	trigger = {
#		original_tag = EMR
#		date > 1056.1.1
#	}
#
#	fire_only_once = yes
#
#	option = {
#		declare_war_on = {
#			target = KAR
#			type = annex_everything
#		}
#	}
#}

country_event = { #ZWA wars MTA
	id = zebrica_activity.11
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.11"}
	hidden = yes
	
	trigger = {
		original_tag = ZWA
		exists = yes
		has_war = no
		is_subject = no
		date > 1051.3.1
	}
	
	fire_only_once = yes
	
	option = {
		declare_war_on = {
			target = MTA
			type = annex_everything
		}
	}
}

country_event = { #STM wars HSO
	id = zebrica_activity.12
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.12"}
	hidden = yes
	
	trigger = {
		original_tag = STM
		exists = yes
		has_war = no
		is_subject = no
		date > 1050.1.14
	}
	
	fire_only_once = yes
	
	option = {
		declare_war_on = {
			target = HSO
			type = annex_everything
		}
		HSO = { add_to_ROOT_potential_cores = yes }
	}
}

country_event = { #TAI/MEL/ZOO wars DEL & IDO
	id = zebrica_activity.13
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.13"}
	hidden = yes
	
	trigger = {
		OR = {
			original_tag = TAI
			original_tag = MEL
			original_tag = ZOO
		}
		exists = yes
		has_war = no
		is_subject = no
		NOT = { country_exists = IDO }
		date > 1054.4.4
	}
	
	fire_only_once = yes
	
	option = {
		every_other_country = {
			limit = {
				any_controlled_state = {
					OR = {
						is_in_array = { DEL.original_cores = THIS }
						is_in_array = { IDO.original_cores = THIS }
					}
				}
			}
			ROOT = {
				declare_war_on = {
					type = annex_everything
					target = PREV
				}
			}
			every_controlled_state = {
				limit = {
					OR = {
						is_core_of = IDO
						is_core_of = DEL
					}
				}
				add_core_of = ROOT
			}
		}
	}
}

country_event = { #ILU final war stuff
	id = zebrica_activity.14
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.14"}
	#hidden = yes
	is_triggered_only = yes
	
	#fire_only_once = yes
	title = zebrica_activity.14.t
	desc = zebrica_activity.14.d
	option = { #let's fucking go
		name = zebrica_activity.14.a 
		declare_war_on = {
			target = ILU
			type = annex_everything
		}
		ai_chance = {
			base = 1
			modifier = {
				check_variable = { ROOT.deployed_army_manpower_k > FROM.deployed_army_manpower_k }
				add = 2
			}
			modifier = {
				check_variable = { ROOT.deployed_army_manpower_k > ILU.deployed_army_manpower_k }
				add = 10
			}
			modifier = {
				has_opinion = {
					target = FROM
					value > -1
				}
				add = 2
			}
			modifier = {
				has_opinion = {
					target = ILU
					value < 0
				}
				add = 2
			}
		}
	}
	option = { #wtf r u serious?
		name = zebrica_activity.14.b
		ai_chance = {
			base = 1
			modifier = {
				FROM = {
					has_tech = tech_kirin_astrology
				}
				factor = 0.75
			}
		}
	}
}

country_event = { #CTL wars MCW
	id = zebrica_activity.15
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.15"}
	hidden = yes
	
	trigger = {
		original_tag = CTL
		exists = yes
		has_war = no
		is_subject = no
		date > 1055.1.1
	}
	
	fire_only_once = yes
	
	option = {
		declare_war_on = {
			target = MCW
			type = annex_everything
		}
	}
}

country_event = { #CTH wars NZA for their core territory
	id = zebrica_activity.16
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.16"}
	hidden = yes
	
	trigger = {
		original_tag = CTH
		exists = yes
		has_war = no
		is_subject = no
		date > 1054.1.1
	}
	
	fire_only_once = yes
	
	option = {
		every_state = {
			limit = {
				is_core_of = NZA
			}
			add_core_of = CTH
		}
		declare_war_on = {
			target = NZA
			type = annex_everything
		}
	}
}

#Launch Karkadannistan Civil War
country_event = {
	id = zebrica_activity.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event zebrica_activity.17" }
	
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		KAC = {
			inherit_technology = KAR
			transfer_state = 1005
			transfer_state = 1007
			transfer_state = 802
			transfer_state = 1010
			transfer_state = 1023
			transfer_state = 794
			transfer_state = 1022
			transfer_state = 804
			transfer_state = 1021
		}
		KAC = { 
			every_owned_state = {
				add_core_of = KAC
			}
		}
		KAP = {
			inherit_technology = KAR
			transfer_state = 1004
			transfer_state = 797
			transfer_state = 1001
			transfer_state = 1003
			transfer_state = 1002
		}
		KAP = { 
			every_owned_state = {
				add_core_of = KAP
			}
			1002 = {
				add_victory_points = {
					province = 14043
					value = 20
				}
			}
			set_capital = {
				state = 1002
			}
		}
		KAF = {
			inherit_technology = KAR
			transfer_state = 998
			transfer_state = 999
			transfer_state = 874
			transfer_state = 809
			transfer_state = 1000
		}
		KAF = { 
			every_owned_state = {
				add_core_of = KAF
			}
		}
		KAW = {
			inherit_technology = KAR
			transfer_state = 796
			transfer_state = 811
			transfer_state = 1020
			transfer_state = 791
			transfer_state = 1019
			transfer_state = 803
		}
		KAW = { 
			every_owned_state = {
				add_core_of = KAW
			}
		}
		KAH = {
			inherit_technology = KAR
			transfer_state = 1013
			transfer_state = 1014
			transfer_state = 800
			transfer_state = 1015
		}
		KAH = { 
			every_owned_state = {
				add_core_of = KAH
			}
		}
		KAD = {
			inherit_technology = KAR
			transfer_state = 1018
			transfer_state = 805
			transfer_state = 793
			transfer_state = 1017
			transfer_state = 1016
			transfer_state = 1012
		}
		KAD = { 
			every_owned_state = {
				add_core_of = KAD
			}
		}
	}
}

country_event = { ## TAI, MEL, and ZOO kill each other
	id = zebrica_activity.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebrica_activity.18"}
	title = zebrica_activity.18.t
	desc = zebrica_activity.18.d
	#picture = GFX_event_KIR_hamlet #this is hidden event bro
	fire_only_once = yes
	hidden = yes
	trigger = {
		OR = {
			original_tag = TAI
			original_tag = MEL
			original_tag = ZOO
		}
		exists = yes
		has_war = no
		is_subject = no
		date > 1050.02.03
	}
	mean_time_to_happen = {
		days = 90
	}
	
	option = {
		name = zebrica_activity.18.a
		add_political_power = 100
		army_experience = 75
		every_neighbor_country = {
			limit = {
				OR = {
					original_tag = TAI
					original_tag = MEL
					original_tag = ZOO
				}
			}
			add_to_ROOT_potential_cores = yes
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
			random_neighbor_country = {
				limit = {
					OR = {
						original_tag = TAI
						original_tag = MEL
						original_tag = ZOO
					}
				}
				if = {
					limit = { NOT = { has_war_with = PREV } }
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
				add_to_PREV_potential_cores = yes
			}
		}
		ROOT = { #who will be a lucky bastard lol
			division_template = {
				name = "Veteran Militia"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
				support = {
				}
			}
			capital_scope = {
				create_unit = { division = "division_template = \"Veteran Militia\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 2 }
			}
			random_list = {
				3 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Militia\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 2 }
					}
				}
				2 = {
				}
			}
			random_list = {
				3 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Militia\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
					}
				}
				2 = {
				}
			}
			division_template = {
				name = "Veteran Infantry"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 1 y = 3 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}
			capital_scope = {
				create_unit = { division = "division_template = \"Veteran Infantry\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
			}
			random_list = {
				3 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Infantry\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
					}
				}
				2 = {
				}
			}
			random_list = {
				3 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Infantry\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
					}
				}
				2 = {
				}
			}
		}
	}
}

country_event = { #MGY wars random neighbor except ABY
	id = zebrica_activity.19
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.19"}
	hidden = yes
	
	# trigger = {
	# 	original_tag = MGY
	# 	exists = yes
	# 	has_war = no
	# 	is_subject = no
	# 	date > 1053.4.20 #12 months later since zebrica_activity.7
	# }
	is_triggered_only = yes # 30 days later since triggered by on_peace_conference_ended
	#fire_only_once = yes
	
	option = {
		random_neighbor_country = {
			limit = {
				any_controlled_state = {
					OR = {
						is_core_of = ROOT
						is_claimed_by = ROOT
					}
				}
				NOT = { original_tag = ABY }
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			every_controlled_state = {
				limit = {
					is_claimed_by = ROOT #removing claim previsouly will break this moment so it would need to be changed with is_in_array check(s)
				}
				add_core_of = ROOT
				remove_claim_by = ROOT
			}
		}
	}
}

country_event = { ## ILU, TNT, ZIT, AZI, CAM, ZAJ, NDR, REM will kill each other
	id = zebrica_activity.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebrica_activity.20"}
	title = zebrica_activity.20.t
	desc = zebrica_activity.20.d
	#picture = GFX_event_KIR_hamlet #this is hidden event bro
	fire_only_once = yes
	hidden = yes
	trigger = {
		original_tag = ILU
		exists = yes
		has_war = no
		is_subject = no
		date > 1050.2.01 #who cares about the season when they are gonna wage a war?
	}
	mean_time_to_happen = {
		days = 90
	}
	
	option = {
		name = zebrica_activity.20.a
		add_political_power = 100
		army_experience = 75
		every_other_country = {
			limit = {
				OR = {
					original_tag = TNT
					original_tag = ZIT
					original_tag = AZI
					original_tag = CAM
					original_tag = ZAJ
					original_tag = NDR
					original_tag = REM
				}
			}
			for_each_scope_loop = { #to give core stat bonuses
				array = THIS.original_cores
				add_core_of = ROOT
			}
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
			every_other_country = {
				limit = {
					OR = {
						original_tag = TNT
						original_tag = ZIT
						original_tag = AZI
						original_tag = CAM
						original_tag = ZAJ
						original_tag = NDR
						original_tag = REM
					}
				}
				if = {
					limit = { NOT = { has_war_with = PREV } }
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
				add_to_PREV_potential_cores = yes
			}
		}
		ROOT = {
			add_ideas = FH_you_can_do_it_dude_idea
			division_template = {
				name = "Veteran Militia"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
				support = {
				}
			}
			capital_scope = {
				create_unit = { division = "division_template = \"Veteran Militia\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 4 }
			}
			random_list = {
				93 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Militia\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 2 }
					}
				}
				2 = {
				}
			}
			random_list = {
				93 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Militia\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
					}
				}
				2 = {
				}
			}
			division_template = {
				name = "Veteran Infantry"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 1 y = 3 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}
			capital_scope = {
				create_unit = { division = "division_template = \"Veteran Infantry\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
			}
			random_list = {
				93 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Infantry\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
					}
				}
				2 = {
				}
			}
			random_list = {
				93 = {
					capital_scope = {
						create_unit = { division = "division_template = \"Veteran Infantry\" start_equipment_factor = 1.2 start_experience_factor = 0.4" owner = ROOT count = 1 }
					}
				}
				2 = {
				}
			}
		}
	}
}

country_event = { # YMN seeks someone to kill
	id = zebrica_activity.22
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.22"}
	hidden = yes
	
	trigger = {
		original_tag = YMN
		exists = yes
		has_war = no
		is_subject = no
		#date > 1052.4.20
		any_of_scopes = {
			array = ABY.original_cores
			tooltip = activity22_event_trigger_tt
			NOT = { is_core_of = ROOT }
		}
	}
	
	fire_only_once = yes
	
	option = {
		every_neighbor_country = {
			if = {
				limit = {
					check_variable = { ROOT.deployed_army_manpower_k < THIS.deployed_army_manpower_k }
				}
				add_to_array = { ROOT.i_will_kill_you_later = THIS }
			}
			else = { # I kill you rn
				ROOT = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
				add_to_ROOT_potential_cores = yes
			}
		}
	}
}

country_event = { # YMN decides whether kill someone or not
	id = zebrica_activity.23
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.23"}
	hidden = yes
	is_triggered_only = yes #on_peaceconference_ended
	#fire_only_once = yes
	
	option = {
		if = {
			limit = {
				has_war = no
				is_subject = no
			}
			random_neighbor_country = { #this can be replaced with every_other_country
				limit = { is_in_array = { ROOT.i_will_kill_you_later = THIS } }
				ROOT = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
				add_to_ROOT_potential_cores = yes
			}
		}
		# else_if = { # in case further expansion needed
		# 	limit = { }
		# }
		else = {
			country_event = {
				id = zebrica_activity.23
				days = 120
			}
		}
	}
}
country_event = { #MGY wars ABY for their core territory
	id = zebrica_activity.24
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.24"}
	hidden = yes
	is_triggered_only = yes #300 days since on_peaceconference_ended
	fire_only_once = yes
	
	option = {
		random_neighbor_country = { #this can be replaced with every_other_country
			limit = {
				any_controlled_state = {
					OR = {
						is_core_of = ROOT
						is_claimed_by = ROOT
					}
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			every_controlled_state = {
				limit = {
					is_claimed_by = ROOT #removing claim previsouly will break this moment so it would need to be changed with is_in_array check(s)
				}
				add_core_of = ROOT
				remove_claim_by = ROOT
			}
		}
	}
}

country_event = { # ROA kills CNT
	id = zebrica_activity.25
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.25"}
	hidden = yes
	
	trigger = {
		original_tag = ROA
		exists = yes
		has_war = no
		is_subject = no
		date > 1050.5.20
	}
	
	fire_only_once = yes
	
	option = {
		add_political_power = 100
		army_experience = 100
		navy_experience = 100
		random_neighbor_country = { #this can be replaced with every_other_country
			limit = {
				any_controlled_state = {
					is_in_array = { CNT.original_cores = THIS }
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
				add_ai_strategy = {
					type = invade
					value = 100
					id = PREV
				}
			}
		}
		CNT = { add_to_ROOT_potential_cores = yes }
	}
}

country_event = { ## TAI/MEL/ZOO go war with CNT/ROA for state_1136
	id = zebrica_activity.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebrica_activity.26"}
	#picture = GFX_event_KIR_hamlet #this is hidden event bro
	fire_only_once = yes
	hidden = yes
	trigger = {
		OR = {
			original_tag = TAI
			original_tag = MEL
			original_tag = ZOO
		}
		exists = yes
		has_war = no
		is_subject = no
		date > 1053.01.03
	}
	mean_time_to_happen = {
		days = 90
	}
	
	option = {
		# add_political_power = 100
		# army_experience = 75
		# navy_experience = 75
		add_state_core = 1136
		declare_war_on = {
			target = 1136.owner
			generator = { 1136 } #Kambanarahavavy
			type = take_core_state
		}
		hidden_effect = {
			create_wargoal = { 
				type = take_core_state
				generator = { 1136 } #Kambanarahavavy
				target = FROM
			}
		}
		1136 = {
			owner = {
				add_ai_strategy = {
					type = invade
					id = ROOT
					value = 100
				}
				add_ideas = FH_you_can_do_naval_invasion_dude_idea
				save_event_target_as = fuck_you_pdx
			}
		}
		add_ai_strategy = {
			type = invade
			id = event_target:fuck_you_pdx
			value = 100
		}
	}
}

country_event = { ## ROA starts zebra expedition
	id = zebrica_activity.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebrica_activity.27"}
	#picture = GFX_event_KIR_hamlet #this is hidden event bro
	fire_only_once = yes
	hidden = yes
	trigger = {
		original_tag = ROA
		exists = yes
		has_war = no
		is_subject = no
		date > 1053.01.03
	}
	mean_time_to_happen = {
		days = 90
	}
	
	option = {
		add_political_power = 200
		army_experience = 175
		navy_experience = 175
		every_other_country = {
			limit = {
				any_controlled_state = {
					OR = {
						is_in_array = { MEL.original_cores = THIS }
						is_in_array = { TAI.original_cores = THIS }
						is_in_array = { ZOO.original_cores = THIS }
					}
				}
			}
			ROOT = {
				declare_war_on = {
					type = annex_everything
					target = PREV
				}
				add_ai_strategy = {
					type = invade
					id = PREV
					value = 100
				}
			}
			add_ai_strategy = {
				type = invade
				id = ROOT
				value = 100
			}
		}
		add_ideas = FH_you_can_do_naval_invasion_dude_idea
		MEL = { add_to_ROOT_potential_cores = yes }
		TAI = { add_to_ROOT_potential_cores = yes }
		ZOO = { add_to_ROOT_potential_cores = yes }
	}
}

country_event = { ## ROA attacks ZLU and their overlord or lackeys
	id = zebrica_activity.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebrica_activity.28"}
	#picture = GFX_event_KIR_hamlet #this is hidden event bro
	fire_only_once = yes
	hidden = yes
	trigger = {
		original_tag = ROA
		exists = yes
		has_war = no
		is_subject = no
		date > 1054.01.03
	}
	mean_time_to_happen = {
		days = 90
	}
	
	option = {
		random_neighbor_country = { #this can be replaced with every_other_country
			limit = {
				any_controlled_state = {
					is_in_array = { ZLU.original_cores = THIS }
				}
			}
			ROOT = {
				declare_war_on = {
					type = annex_everything
					target = PREV
				}
			}
			every_other_country = {
				limit = { is_in_faction_with = PREV }
				ROOT = {
					declare_war_on = {
						type = annex_everything
						target = PREV
					}
				}
				add_to_ROOT_potential_cores = yes
			}
		}
		ZLU = { add_to_ROOT_potential_cores = yes }
	}
}
country_event = { ## ROA attacks ILU
	id = zebrica_activity.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebrica_activity.29"}
	#picture = GFX_event_KIR_hamlet #this is hidden event bro
	fire_only_once = yes
	hidden = yes
	trigger = {
		original_tag = ROA
		exists = yes
		has_war = no
		is_subject = no
		date > 1057.01.03
		country_exists = ILU
	}
	mean_time_to_happen = {
		days = 90
	}
	
	option = {
		declare_war_on = {
			type = annex_everything
			target = ILU
		}
	}
}

country_event = { # STM kills ZWA
	id = zebrica_activity.30
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.30"}
	hidden = yes
	
	trigger = {
		original_tag = STM
		exists = yes
		has_war = no
		is_subject = no
		date > 1051.1.20 # after a year from they eat HSO via zebrica_activity.12
	}
	
	fire_only_once = yes
	
	option = {
		random_neighbor_country = { #this can be replaced with every_other_country
			limit = {
				any_controlled_state = {
					is_in_array = { ZWA.original_cores = THIS } #ZWA can be dead by MTA
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			add_to_ROOT_potential_cores = yes
			every_neighbor_country = {
				limit = {
					OR = {
						is_in_faction_with = PREV
						has_war_with = PREV
					}
				}
				ROOT = {
					declare_war_on = {
						type = annex_everything
						target = PREV
					}
				}
				add_to_ROOT_potential_cores = yes
			}
		}
	}
}

country_event = { # STM kills ABY/YMN
	id = zebrica_activity.31
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.31"}
	hidden = yes
	
	trigger = {
		original_tag = STM
		exists = yes
		has_war = no
		is_subject = no
		date > 1053.1.20 # after 2 years from they eat lakers via zebrica_activity.30
	}
	
	fire_only_once = yes
	
	option = {
		every_neighbor_country = { #this can be replaced with every_other_country
			limit = {
				any_controlled_state = {
					is_in_array = { YMN.original_cores = THIS } #ABY is holding YMN core state at start
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
			add_to_ROOT_potential_cores = yes
		}
	}
}

country_event = { # STM kills EMR (but why? do they look juicy?)
	id = zebrica_activity.32
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.32"}
	hidden = yes
	
	trigger = {
		original_tag = STM
		exists = yes
		has_war = no
		is_subject = no
		date > 1055.1.20 # after 2 years from they eat cats via zebrica_activity.31
	}
	
	fire_only_once = yes
	
	option = {
		every_neighbor_country = { #this can be replaced with every_other_country
			limit = {
				any_controlled_state = {
					is_in_array = { EMR.original_cores = THIS }
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
		EMR = { add_to_ROOT_potential_cores = yes }
	}
}

country_event = { # STM kills MGY/ILU(probably had eaten MGY)
	id = zebrica_activity.33
	immediate = {log = "[GetDateText]: [Root.GetName] event zebrica_activity.33"}
	hidden = yes
	
	trigger = {
		original_tag = STM
		exists = yes
		has_war = no
		is_subject = no
		date > 1057.1.20 # after 2 years from they eat hoarses via zebrica_activity.32
	}
	
	fire_only_once = yes
	
	option = {
		every_other_country = {
			limit = {
				any_controlled_state = {
					is_in_array = { MGY.original_cores = THIS }
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
		MGY = { add_to_ROOT_potential_cores = yes }
		set_country_flag = FG_STM_got_MGY_flag
	}
}
