###Solar Empire Events###

add_namespace = solar

#Start event chain to introduce Aurora
country_event = {
	id = solar.1
	title = solar.1.t
	desc = solar.1.d
	
	is_triggered_only = yes
	
	option = { #Aurora goes to Sanctum Solar
		name = solar.1.a
		ai_chance = { 
		factor = 100 
		}
		
		hidden_effect = {
			EQS = {
				country_event = {
					id = solar.2
					days = 20
					random = 120
					}
				}
			}
		}
	}

#Aurora assigned heresy mission
country_event = {
	id = solar.2
	title = solar.2.t
	desc = solar.2.d
	
	is_triggered_only = yes
		
	option = { #Aurora begins to search for heresy
		name = solar.2.a
		ai_chance = {
			factor = 100
		}
		
		hidden_effect = {
			EQS = {
				country_event = {
					id = solar.3
					days = 5
					random = 48
				}
			}
		}
	}
}

#Aurora begins to shadow Thunderbolt Sentinel
country_event = {
	id = solar.3
	title = solar.3.t
	desc = solar.3.d
	
	is_triggered_only = yes

	option = { #Thunderbolt worries about the declared heretics
		name = solar.3.a
		ai_chance = {
			factor = 100
		}
		
		hidden_effect = {
			EQS = {
				country_event = {
					id = solar.4
					days = 21
					random = 144
				}
			}
		}
	}
}

#Thunderbolt waits for reassignment in Sanctum Solar
country_event = {
	id = solar.4
	title = solar.4.t
	desc = solar.4.d
	
	is_triggered_only = yes

	option = { #Thunderbolt grows wary of Aurora
		name = solar.4.a
		ai_chance = {
			factor = 100
		}
		
		hidden_effect = {
			EQS = {
				country_event = {
					id = solar.5
					days = 14
					random = 288
				}
			}
		}
	}
}

#Thunderbolt helps some harmonists escape Sanctum Solar
country_event = {
	id = solar.5
	title = solar.5.t
	desc = solar.5.d
	
	is_triggered_only = yes

	option = { #Aurora begins to search for heresy
		name = solar.5.a
		ai_chance = {
			factor = 100
		}
		
		hidden_effect = {
			EQS = {
				country_event = {
					id = solar.6
					days = 28
					random = 288
				}
			}
		}
	}
}

#Thunderbolt is arrested by Aurora and Daybreaker
country_event = {
	id = solar.6
	title = solar.6.t
	desc = solar.6.d
	
	is_triggered_only = yes

	option = { #Aurora muses at his impending death
		name = solar.6.a
		ai_chance = {
			factor = 100
		}
		
		hidden_effect = {
			EQS = {
				country_event = {
					id = solar.7
					days = 3
					random = 48
				}
			}
		}
	}
}

#Thunderbolt is prayed to by Aurora, and he gives her the picture of Celestia
country_event = {
	id = solar.7
	title = solar.7.t
	desc = solar.7.d
	
	is_triggered_only = yes

	option = { #Aurora is wary but throws the picture away, not trusting of Thunderbolt
		name = solar.7.a
		ai_chance = {
			factor = 100
			}
			remove_unit_leader = 19
			create_corps_commander = {
				name = "Aurora Shinespark"
				portrait_path = "gfx/leaders/EQS/Aurora_Shinespark.tga"
				traits = { pony_race_trait solaris_inquisitionis protectress_of_the_empress_general promising_general }
				skill = 2
				id = 2
				attack_skill = 3
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 2
				female = yes
			}
		}
	}

###Opening focus events###
###Left tree###

country_event = {
	id = solar.8
	title = solar.8.t
	desc = solar.8.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.8.a
		ai_chance = {
			factor = 100
		}
		add_stability = -0.03
	}
}

country_event = {
	id = solar.10
	title = solar.10.t
	desc = solar.10.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.10.a
		ai_chance = {
			factor = 100
		}
		109 = {
			add_manpower = -352
		}
		65 = {
			add_manpower = -63
		}
		106 = {
			add_manpower = -721
		}
	}
}

country_event = {
	id = solar.11
	title = solar.11.t
	desc = solar.11.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.11.a
		ai_chance = {
			factor = 100
		}
		add_manpower = -1
		hidden_effect = {
			random_list = {
				60 = {
					set_country_flag = rebels_found
				}
				40 = {
					set_country_flag = rebels_not_found
				}
			}
		}
	}
}

###Right side###
country_event = {
	id = solar.9
	title = solar.9.t
	desc = solar.9.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.9.a
		ai_chance = {
			factor = 100
		}
		add_stability = -0.05
	}
}

country_event = {
	id = solar.12
	title = solar.12.t
	desc = solar.12.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.12.a
		ai_chance = {
			factor = 100
		}
		add_political_power = 20
	}
}

country_event = {
	id = solar.13
	title = solar.13.t
	desc = solar.13.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.8.a
		ai_chance = {
			factor = 100
		}
		add_manpower = -1
		add_stability = 0.01
	}
}

country_event = {
	id = solar.14
	title = solar.14.t
	desc = solar.14.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.14.a
		ai_chance = {
			factor = 100
		}
		add_manpower = -1
	}
}

country_event = {
	id = solar.15
	title = solar.15.t
	desc = solar.15.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.15.a
		ai_chance = {
			factor = 100
		}
		add_manpower = -1
		add_war_support = 0.01
	}
}

country_event = {
	id = solar.16
	title = solar.16.t
	desc = solar.16.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.16.a
		ai_chance = {
			factor = 100
		}
		add_stability = 0.05
		hidden_effect = {
			set_country_flag = rebels_found
		}
	}
}

country_event = {
	id = solar.17
	title = solar.17.t
	desc = solar.17.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.17.a
		ai_chance = {
			factor = 100
		}
		#hidden_effect = {
			IF = {
				limit = {
					TAG = EQS
					AND = {
					has_country_flag = rebels_found
					}
				}
				country_event = {
					id = solar.18
					days = 34
				}
			}
			ELSE = {
				limit = {
					TAG = EQS
				}
				country_event = {
					id = solar.19
					days = 34
				}
			}
		#}
	}
}

country_event = { #Rebels found, less damage, Starlight and Trixie captured
	id = solar.18
	title = solar.18.t
	desc = solar.18.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.18.a
		ai_chance = {
			factor = 100
		}
		#hidden_effect = {
			set_country_flag = starlight_and_trixie_captured
			set_country_flag = unsuccessful_rebellion
		#}
		75 = {
			add_manpower = -77213
			damage_building = {
				type = infrastructure
				damage = 3
			}
			remove_building = {
				type = arms_factory
				level = 1
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
	}
}

country_event = { #Rebels found, less damage, Starlight and Trixie captured
	id = solar.19
	title = solar.19.t
	desc = solar.19.d
	
	is_triggered_only = yes
	
	option = {
		name = solar.19.a
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
			set_country_flag = starlight_and_trixie_escaped
			set_country_flag = successful_rebellion
		}
		75 = {
			add_manpower = -204702
			damage_building = {
				type = infrastructure
				damage = 8
			}
			remove_building = {
				type = arms_factory
				level = 2
			}
			remove_building = {
				type = industrial_complex
				level = 3
			}
		}
	}
}

###Corruption Events###
###Will go from solar.30 to solar.40###
country_event = {
	id = solar.40
	title = solar.40.t
	desc = solar.40.d
	
	is_triggered_only = yes
	
	option = { #Rise my new generals
		name = solar.40.a
		ai_chance = {
			factor = 100
			}
			create_corps_commander = {
				name = "Starlight Glimmer"
				portrait_path = "gfx/leaders/EQS/Starlight_general.tga"
				traits = { pony_race_trait military_genius brilliant_strategist }
				skill = 4
				id = 5
				attack_skill = 2
				defense_skill = 3
				planning_skill = 4
				logistics_skill = 3
				female = yes
			}
			create_corps_commander = {
				name = "Trixie Lulamoon"
				portrait_path = "gfx/leaders/EQS/Trixie.tga"
				traits = { pony_race_trait stage_performer infantry_leader }
				skill = 3
				id = 6
				attack_skill = 4
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 5
				female = yes
			}
	}
}


###Crisis Events###
###Events go from 80-100###
###The fate of Daybreaker###
country_event = { #Should have custom tooltips later
	id = solar.99
	title = solar.99.t
	desc = solar.99.d
	
	is_triggered_only = yes
	
	option = { #Daybreaker is healed fully
		name = solar.99.a
		ai_chance = {
			factor = 60
			}
			add_stability = 0.01
			}
	option = { #Daybreaker is healed but not fully
		name = solar.99.b
		ai_chance = {
			factor = 30
			}
			hidden_effect = {
			remove_unit_leader = 4
			country_event = {
				id = solar.100
				days = 1
			}
			}
			add_stability = -0.05
		}
		option = { #Celestia returns
		name = solar.99.c
		ai_chance = {
			factor = 10
			}
			#hidden_effect = {
			remove_unit_leader = 1
			remove_unit_leader = 3
			remove_unit_leader = 4
			start_civil_war = {
				ideology = fascism
				size = 0.45
				capital = 75
				states = {
					184 187 223 188 185 108 110 12
				}
				set_cosmetic_tag = EQS_SOL
		}
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
			create_country_leader = {
				name = "Princess Celestia"
				expire = "1965.1.1"
				picture = GFX_CelestiaPortrait
				desc = "POLITICS_CELESTIA_DESC"
				ideology = harmonic_monarchy
				female = yes
				traits = {
					princess_of_ponies
					stout_defender
				}
			}
			set_popularities = {
				democratic = 45
				fascism = 30
				communism = 5
				neutrality = 20
				radical_borealist = 0
				maresoc = 0
			}
			set_party_name = {
				ideology = democratic
				name = "Alicorn Rule"
				long_name = "Alicorn Rule"
			}
			set_cosmetic_tag = EQS_CEL
		#}
			###start civil war here###
	}
}


###Choosing a Regent###
###Add more options with new paths over time, Sunset will always be favored, retire them from generalship if chosen###
country_event = {
	id = solar.100
	title = solar.100.t
	desc = solar.100.d
	
	is_triggered_only = yes
	
	option = { #Sunset
		name = solar.100.a
		ai_chance = {
			factor = 60
			}
			hidden_effect = {
			retire_country_leader = yes
			remove_unit_leader = 3
			create_country_leader = {
			name = "Sunset Shimmer"
			expire = "1965.1.1"
			picture = "gfx/leaders/EQS/Sunset.tga"
			desc = "POLITICS_SUNSET_SHIMMER_DESC"
			ideology = solarism
			female = yes
			traits = {
				high_mage_shimmer
				}
			}
		}
		custom_effect_tooltip = sunset_regent
	}
	option = { #Aurora
		name = solar.100.b
		ai_chance = {
			factor = 40
			}
			hidden_effect = {
			retire_country_leader = yes
			remove_unit_leader = 2
			create_country_leader = {
			name = "Aurora Shinespark"
			expire = "1965.1.1"
			picture = "gfx/leaders/EQS/Aurora_Shinespark.tga"
			desc = "POLITICS_AURORA_SHINESPARK_DESC"
			ideology = solarism
			female = yes
			traits = {
				protectress_of_the_empress
				}
			}
		}
		custom_effect_tooltip = aurora_regent	
	}
}
			