on_actions = {

	on_declare_war = {
		effect = {
			if = {
				limit = {
					tag = CCA
					FROM = { tag = CHN }
				}
				news_event = changelingianews.3
			}
			if = { #CHN war news events
				limit = {
					tag = BUG
					FROM = { tag = SLE }
				}
				news_event = changelingianews.6
			}
			#MTS no call on offensive war, yes call on defensive war
			if = {
				limit = {
					FROM = {
						OR = {
							AND = {
								tag = MTS
								has_government = communism
								is_in_faction_with = SCS
							}
							AND = {
								tag = SCS
								is_in_faction_with = MTS
							}
						}
						has_defensive_war_with = ROOT
					}
				}
				if = {
					limit = {
						has_idea = MTS_no_friends_calling_offensive
					}
					remove_ideas = MTS_no_friends_calling_offensive
				}
			}
		}
	}
	
	on_unit_leader_promote_from_ranks_veteran = { #Unit leader scope, FROM is unit
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] FROM: [From.GetName] on_unit_leader_promote_from_ranks_veteran"
			owner = {
				set_temp_variable = {
					creator = THIS
				}
			}
			assign_FH_general_flavour_traits = yes
		}
	}

	on_unit_leader_promote_from_ranks_green = { #Unit leader scope, FROM is unit
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] FROM: [From.GetName] on_unit_leader_promote_from_ranks_green"
			owner = {
				set_temp_variable = {
					creator = THIS
				}
			}
			assign_FH_general_flavour_traits = yes
		}
	}
	
	on_peaceconference_ended = { #For adding prosperity modifier to MTS Warm Night conquered states
		effect = {
			every_state = {
				limit = {
					ROOT = { has_country_leader = { character = MTS_Warm_Night ruling_only = yes } }
					is_owned_by = ROOT
					NOT = { has_dynamic_modifier = { modifier = MTS_state_prosperity_modifier } }
				}
				add_dynamic_modifier = { modifier = MTS_state_prosperity_modifier }
			}
			#Should later do news events for SLE wars with CHN
			if = {
				limit = {
					tag = CCA
					FROM = { tag = CHN }
				}
				ROOT = { country_event = changeling_activity.38 }
			}
			if = { #CHN end war news
				limit = {
					tag = BUG
					FROM = { tag = SLE }
				}
				news_event = changelingianews.7
			}
			if = { #Figure out image for Ordo management
				limit = {
					OR = {
						is_EQS_SOL_1048 = yes
						is_SLW_SOL = yes
						is_MTS_SOL = yes
					}
				}
				SOL_calculate_ordo_image = yes
			}
			#Return MTS/SCS to not call in offensive wars
			if = {
				limit = {
					ROOT = { 
						NOT = { 
							has_idea = MTS_no_friends_calling_offensive
							OR = {
								AND = {
									tag = MTS
									has_government = communism
									is_in_faction_with = SCS
								}
								AND = {
									tag = SCS
									is_in_faction_with = MTS
								}
							}
						} 
					}
					add_ideas = MTS_no_friends_calling_offensive
				}
			}
			###Begins the long list of integration stuff
			if = {
				limit = {
					ROOT = {
						tag = MTS
						is_subject = no
					}
					FROM = {
						OR = {
							tag = EQS
							tag = SLW
							tag = CRY
							is_in_array = { global.changeling_hegemony = THIS.id }
							AND = {
								is_in_array = { global.shield_of_steel = THIS.id }
								NOT = { tag = MWR }
							}
							is_in_array = { global.solar_empire_rumps = THIS.id }
						}
					}
				}
				FROM = { add_to_ROOT_potential_cores = yes }
			}
			
			FROM = { country_event = { id = utility.10 hours = 1 } }
			
			update_global_arrays_all = yes
		}
	}
}