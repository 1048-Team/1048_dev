on_actions = {
	
	on_startup = {
		effect = {
			###Southeast Countries###
			add_to_array = { global.southeast_countries = BAL.id }
			add_to_array = { global.southeast_countries = EEE.id }
			add_to_array = { global.southeast_countries = NRP.id }
			add_to_array = { global.southeast_countries = NID.id }
			add_to_array = { global.southeast_countries = HUG.id }
			add_to_array = { global.southeast_countries = NEI.id }
			add_to_array = { global.southeast_countries = SPF.id }
			add_to_array = { global.southeast_countries = MTS.id }
			add_to_array = { global.southeast_countries = STB.id }
			add_to_array = { global.southeast_countries = BGL.id }
			
			###Southeast State Regions###
			###West states###
			add_to_array = { global.west_southeast = 34.id }
			add_to_array = { global.west_southeast = 15.id }
			add_to_array = { global.west_southeast = 50.id }
			add_to_array = { global.west_southeast = 81.id }
			add_to_array = { global.west_southeast = 32.id }
			add_to_array = { global.west_southeast = 86.id }
			add_to_array = { global.west_southeast = 26.id }
			add_to_array = { global.west_southeast = 33.id }
			add_to_array = { global.west_southeast = 351.id }
			add_to_array = { global.west_southeast = 221.id }
			add_to_array = { global.west_southeast = 687.id }
			add_to_array = { global.west_southeast = 353.id }
			add_to_array = { global.west_southeast = 52.id }
			add_to_array = { global.west_southeast = 25.id }
			add_to_array = { global.west_southeast = 79.id }
			add_to_array = { global.west_southeast = 4.id }
			add_to_array = { global.west_southeast = 686.id }
			
			###Central states###
			add_to_array = { global.central_southeast = 35.id }
			add_to_array = { global.central_southeast = 30.id }
			add_to_array = { global.central_southeast = 36.id }
			add_to_array = { global.central_southeast = 350.id }
			add_to_array = { global.central_southeast = 24.id }
			add_to_array = { global.central_southeast = 83.id }
			add_to_array = { global.central_southeast = 352.id }
			add_to_array = { global.central_southeast = 16.id }
			add_to_array = { global.central_southeast = 348.id }
			add_to_array = { global.central_southeast = 88.id }
			add_to_array = { global.central_southeast = 6.id }
			add_to_array = { global.central_southeast = 7.id }
			add_to_array = { global.central_southeast = 8.id }
			add_to_array = { global.central_southeast = 9.id }
			add_to_array = { global.central_southeast = 10.id }
			add_to_array = { global.central_southeast = 328.id }
			
			###Eastern states###
			add_to_array = { global.eastern_southeast = 17.id }
			add_to_array = { global.eastern_southeast = 37.id }
			add_to_array = { global.eastern_southeast = 31.id }
			add_to_array = { global.eastern_southeast = 90.id }
			add_to_array = { global.eastern_southeast = 82.id }
			add_to_array = { global.eastern_southeast = 84.id }
			add_to_array = { global.eastern_southeast = 27.id }
			add_to_array = { global.eastern_southeast = 28.id }
			add_to_array = { global.eastern_southeast = 13.id }
			add_to_array = { global.eastern_southeast = 688.id }
			
			###Lots of EaW copied stuff###
			every_country = {
				# added in vanilla 1.9.2
				capital_scope = {
					set_variable = { historical_capital_for_country = PREV }
				}
				
				if = {
					limit = { is_pony_race = yes }
					add_ideas = pony_race
				}
				else_if = {
					limit = { is_changeling_race = yes }
					add_ideas = changeling_race
				}
				else_if = {
					limit = { is_deer_race = yes }
					add_ideas = deer_race
				}
				else_if = {
					limit = { is_griffon_race = yes }
					add_ideas = griffon_race
					country_event = {
						id = fantasyflavor.11
						days = 345
					}
				}
				else_if = {
					limit = { is_diamond_dog_race = yes }
					add_ideas = diamond_dog_race
				}
				else_if = {
					limit = { is_minotaur_race = yes }
					add_ideas = minotaur_race
				}
				else_if = {
					limit = { is_penguin_race = yes }
					add_ideas = penguin_race
				}
				else_if = {
					limit = { is_dragon_race = yes }
					add_ideas = dragon_race
				}
				else_if = {
					limit = { is_undead_race = yes }
					add_ideas = undead_race
				}
				else_if = {
					limit = { is_buffalo_race = yes }
					add_ideas = buffalo_race
				}
				else_if = {
					limit = { is_yak_race = yes }
					add_ideas = yak_race
				}
				else_if = {
					limit = { is_polar_race = yes }
					add_ideas = polar_race
				}
				else = {
					set_technology = { popup = no generic_race = 1 }
					add_ideas = generic_race_idea
				}

				if = {
					limit = {
						is_on_equestrian_continent = no
						OR = {
							has_idea = dummy_idea_science
							NOT = {
								has_idea_with_trait = science_idea
							}
						}
					}
					if = {
						limit = {
							num_of_civilian_factories > 2
							has_tech = melee_weapons1
							NOT = { owns_big_griffon_city = yes }
							NOT = { owns_major_griffon_city = yes }
						}
						#log = "[Root.GetName] better_science_base"
						add_ideas = better_science_base
					}
					else_if = {
						limit = { owns_big_griffon_city = yes }
						#log = "[Root.GetName] big_science_base"
						add_ideas = big_science_base
					}
					else_if = {
						limit = { owns_major_griffon_city = yes }
						#log = "[Root.GetName] proper_science_base"
						add_ideas = proper_science_base
					}
					else_if = {
						limit = {
							NOT = { owns_major_griffon_city = yes }
							NOT = { owns_big_griffon_city = yes }
							OR = {
								NOT = { has_tech = melee_weapons1 }
								NOT = { num_of_civilian_factories > 2 }
							}
							is_griffon_continent_country = yes
						}
						#log = "[Root.GetName] poor_science_base"
						add_ideas = poor_science_base
					}
				}

				if = {
					limit = {
						OR = {
							is_on_equestrian_continent = yes
							has_idea = dummy_idea_science
							NOT = {
								has_idea_with_trait = science_idea
							}
						}
					}
					add_ideas = proper_science_base
				}

				if = {
					limit = {
						OR = {
							has_idea = dummy_idea_society
							NOT = {
								has_idea_with_trait = society_idea
							}
						}
					}
					if = {
						limit = { is_griffon_continent_country = yes }
						add_ideas = outdated_industry
						else = {
							add_ideas = modern_society
						}
					}
				}

				if = {
					limit = {
						OR = {
							has_idea = dummy_idea_literacy
							NOT = { has_idea_with_trait = illiteracy_idea }
						}
					}
					add_ideas = no_lack_of_scientists
				}

				if = {
					limit = {
						OR = {
							has_idea = dummy_idea_poverty
							NOT = { has_idea_with_trait = poverty_idea }
						}
					}
					add_ideas = no_poverty
				}
				
				###Will be re-enabled later on
				#if = {
				#	limit = {
				#		is_ai = no
				#	}
				#	set_variable = { eaw_welcome_screen = 1 }
				#}

				if = {
					limit = {
						is_griffon_continent_country = yes
						OR = {
							has_tribal_society = yes
							has_agrarian_society = yes
							has_pre_industrial_society = yes
							has_illiteracy = yes
						}
					}
					country_event = { id = griffonian.166 days = 912 } #comet sighted
				}
				
				#if = {
				#	limit = {
				#		NOT = {
				#			tag = GRI
				#			any_owned_state = {
				#				OR = {
				#					is_coastal = yes
				#					is_island_state = yes
				#				}
				#			}
				#		}
				#	}
				#	set_country_flag = started_out_as_landlocked
				#}
				if = {
					limit = { 
						OR = {
							has_idea = agrarian_society
							has_idea = tribal_society
							has_idea = communal_society
							has_idea = detached_country
						}
					}
					add_fuel = 25000
				}
				every_owned_state = {
					if = {
						limit = {
							is_core_of = PREV
						}
						#if = {
						#	limit = {
						#		PREV = { tag = CHN }
						#	}
						#	add_to_array = { CCN.original_cores = THIS }
						#	add_to_array = { state_original_cores = CCN }
						#}
						#if = {
						#	limit = {
						#		PREV = { tag = FAT }
						#	}
						#	add_to_array = { FAW.original_cores = THIS }
						#	add_to_array = { state_original_cores = FAW }
						#}
						#if = {
						#	limit = {
						#		PREV = { tag = BRF }
						#	}
						#	add_to_array = { GRW.original_cores = THIS }
						#	add_to_array = { state_original_cores = GRW }
						#}
						#if = {
						#	limit = {
						#		PREV = { tag = GRW }
						#	}
						#	add_to_array = { BRF.original_cores = THIS }
						#	add_to_array = { state_original_cores = BRF }
						#}
						#if = {
						#	limit = {
						#		PREV = { tag = EQS }
						#	}
						#	add_to_array = { NLR.original_cores = THIS }
						#	add_to_array = { state_original_cores = NLR }
						#}
						#if = {
						#	limit = {
						#		PREV = { tag = LNS }
						#	}
						#	add_to_array = { LSC.original_cores = THIS }
						#	add_to_array = { state_original_cores = LSC }
						#	add_to_array = { LSM.original_cores = THIS }
						#	add_to_array = { state_original_cores = LSM }
						#}
					}
					for_each_scope_loop = {
						array = core_countries
						add_to_array = { original_cores = PREV }
						add_to_array = { PREV.state_original_cores = THIS }
					}
				}
				adjust_research_modifier = yes
				update_global_arrays = yes
				if = {
					limit = { NOT = { has_country_flag = weapons_fixed_at_start } }
					actually_fix_weapon_techs = yes
				}
			}

			547 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = {
						id = 12874
						id = 12787
						id = 8039
					}
				}
			}
			506 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = {
						id = 1658 
						id = 3860 
						id = 3929 
						id = 11862 
						id = 3947 
						id = 5022 
						id = 7836
					}
				}
			}
			554 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = {
						id = 1139
						id = 4058
						id = 4538
						id = 12078
						id = 12344
						id = 12344
						id = 1203
						id = 4093
						id = 12062
					}
				}
			}
			423 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = {
						id = 12667
						id = 10606
						id = 12356
						id = 4880
						id = 4174
						id = 1519
						id = 10421
						id = 4606
						id = 4794
						id = 9892
						id = 9883
						id = 10676
						id = 12651
						id = 10532 
						id = 1867 
					}
				}
			}
			411 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = {
						id = 3981
						id = 10919
						id = 12785
						id = 4760
						id = 7862
						id = 12620
						id = 7888
						id = 3750
						id = 4871 
					}
				}
			}
			422 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = {
						id = 1718
						id = 10862
						id = 2050
						id = 12731
						id = 12026
						id = 6828
						id = 12900
						id = 2025
						id = 12589
						id = 12174
						id = 8034
						id = 12692 
						id = 10686 
					}
				}
			}
			471 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = { id = 10831 }
				}
			}
			488 = {
				add_province_modifier = {
					static_modifiers = { scheisswald_forest }
					province = {
						id = 11996
						id = 12648
						id = 7770
						id = 5036 
					}
				}
			}
			586 = {
				add_province_modifier = {
					static_modifiers = { eygsic_forest }
					province = {
						all_provinces = yes
					}
				}
			}
			#barrad
			624 = {
				add_province_modifier = {
					static_modifiers = { barrad_climate }
					province = {
						all_provinces = yes
					}
				}
				set_state_flag = BAR_climate
			}
			625 = {
				add_province_modifier = {
					static_modifiers = { barrad_climate }
					province = {
						all_provinces = yes
					}
				}
				set_state_flag = BAR_climate
			}
			626 = {
				add_province_modifier = {
					static_modifiers = { barrad_climate }
					province = {
						all_provinces = yes
					}
				}
				set_state_flag = BAR_climate
			}
			648 = {
				add_province_modifier = {
					static_modifiers = { eygsic_forest }
					province = { 
						id = 8222 
						id = 12914
						id = 2178
					}
				}
			}
			491 = {
				add_province_modifier = {
					static_modifiers = { eygsic_forest }
					province = {
						id = 1161
						id = 1001
						id = 10008
						id = 4148
						id = 10783
						id = 12461
						id = 7094
						id = 12859
						id = 7094
						id = 1892
						id = 3834
						id = 2204
						id = 1302
						id = 12036
						id = 10040
						id = 4079
					}
				}
			}
			637 = {
				add_province_modifier = {
					static_modifiers = { eygsic_forest }
					province = { id = 13144 }
				}
			}
			544 = {
				add_province_modifier = {
					static_modifiers = { eygsic_forest }
					province = { 
						id = 1562 
						id = 1089
						id = 4091
					}
				}
			}
			1 = {
				add_dynamic_modifier = { modifier = everfree_forest_resistance_to_occupation_modifier }
				add_province_modifier = { ## Everfree Forest modifiers ##
					static_modifiers = { old_dragon_gardens }
					province = {
						all_provinces = yes
					}
				}
			}
			5 = {
				add_dynamic_modifier = { modifier = everfree_forest_resistance_to_occupation_modifier }
				add_province_modifier = {
					static_modifiers = { old_dragon_gardens }
					province = {
						all_provinces = yes
					}
				}
      		}
			WNG = {
				setup_WNG_parliament = yes
			}
			# this extra loop is intentional
			# adjust_research_modifier needs to be fired again after force_update_dynamic_modifier for the value to work correctly
			# first loop is above, in every_country
			for_each_scope_loop = {
				array = global.countries
				force_update_dynamic_modifier = yes
				adjust_research_modifier = yes
			}
		}
	}
}