form_equestria_category = {
	form_equestria = {
		available = {
			is_subject = no
			owns_state = 3
		}
		visible = {
			NOT = {
				tag = BLS
				tag = CER
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_core_of = EQS
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision form_equestria"
			every_state = {
				limit = {
					is_core_of = EQS
				}
				add_core_of = ROOT
			}
			every_state = {
				limit = {
					is_claimed_by = EQS
				}
				add_claim_by = ROOT
			}
			if = {
				limit = {
					NOT = { has_country_leader = { character = WHY_Opaline_Arcana ruling_only = yes } }
					NOT = { has_country_leader = { character = WHY_Solar_Strike ruling_only = yes } }
				}
				set_cosmetic_tag = EQS_NEW
			}
			else_if = {
				limit = {
					has_country_leader = { character = WHY_Solar_Strike ruling_only = yes }
				}
				set_cosmetic_tag = EQS_SOL
			}
			set_capital = { state = 3 }
		}
	}
	rename_sanctum_solar = {
		available = {
			is_subject = no
			has_cosmetic_tag = EQS_NEW
			owns_state = 3
		}
		visible = {
			NOT = { has_country_leader = { character = WHY_Opaline_Arcana ruling_only = yes } }
			NOT = { has_country_leader = { character = WHY_Solar_Strike ruling_only = yes } }
			NOT = { tag = CER }
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 3
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision rename_sanctum_solar"
			set_province_name = { id = 179 name = renamed_canterlot }
			set_global_flag = canterlot_has_been_renamed
		}
	}
	heartlands_victory = {
		available = {
			is_subject = no
			owns_state = 74
			owns_state = 1218
			owns_state = 122
			owns_state = 70
			owns_state = 170
		}
		visible = {
			NOT = {
				OR = {
					has_country_leader = { character = WHY_Opaline_Arcana ruling_only = yes }
					has_country_leader = { character = WHY_Solar_Strike ruling_only = yes }
				}
				tag = BLS
				tag = CER
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_core_of = WHY
					is_core_of = NER
					is_core_of = CLD
					is_core_of = BLS
					is_core_of = CER
				}
				NOT = { is_core_of = ROOT }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision heartlands_victory"
			every_state = {
				limit = {
					AND = {
						OR = {
							is_core_of = WHY
							is_core_of = NER
							is_core_of = CLD
							is_core_of = BLS
							is_core_of = CER
						}
						NOT = { is_core_of = ROOT }
					}
				}
				add_core_of = ROOT
			}
		}
	}
	reintigrating_the_southeast = {
		available = {
			owns_state = 1214
		}
		visible = {
			NOT = {
				has_country_flag = SEE
				tag = BLS
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_core_of = BAL
					is_claimed_by = BAL
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision reintigrating_the_southeast"
			every_state = {
				limit = {
					OR = {
						is_core_of = BAL
						is_claimed_by = BAL
					}
				}
				add_core_of = ROOT
			}
		}
	}
	reclaim_severyana = {
		available = {
			owns_state = 153
			NOT = {
				country_exists = STG
				country_exists = AWR
			}
		}
		visible = {
			NOT = { tag = BLS }
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_core_of = STG
					is_core_of = AWR
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision reclaim_severyana"
			every_state = {
				limit = {
					OR = {
						is_core_of = AWR
						is_core_of = STG
					}
				}
				add_core_of = ROOT
			}
		}
	}
	southern_glory = {
		available = {
			controls_state = 21
			OR = {
				SCS = { has_capitulated = yes }
				NOT = { country_exists = SCS }
			}
		}
		visible = {
			NOT = {
				tag = BLS
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_core_of = SCS
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision southern_glory"
			every_state = {
				limit = {
					is_core_of = SCS
				}
				add_core_of = ROOT
			}
		}
	}
	reinvest_in_las_pegasus = {
		available = {
			controls_state = 66
			OR = {
				CCA = { has_capitulated = yes }
				NOT = { country_exists = CCA }
			}
		}
		visible = {
			NOT = {
				tag = BLS
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_core_of = CCA
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision reinvest_in_las_pegasus"
			every_state = {
				limit = {
					is_core_of = CCA
				}
				add_core_of = ROOT
			}
		}
	}
	reclaim_the_west_coast = {
		available = {
			controls_state = 14
			OR = {
				NCA = { has_capitulated = yes }
				NOT = { country_exists = NCA }
			}
		}
		visible = {
			NOT = {
				tag = BLS
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_core_of = NCA
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision reclaim_the_west_coast"
			every_state = {
				limit = {
					is_core_of = NCA
				}
				add_core_of = ROOT
			}
		}
	}
	equestria_restored = {
		available = {
			controls_state = 1216
		}
		visible = {
			NOT = {
				tag = BLS
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 173
				state = 175
				state = 138
				state = 137
				state = 136
				state = 172
				state = 1216
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision equestria_restored"
			add_state_core = 173
			add_state_core = 175
			add_state_core = 138
			add_state_core = 137
			add_state_core = 136
			add_state_core = 172
			add_state_core = 1216
		}
	}
}
form_yakyakistan_category = {
	claim_the_throne = {
		available = {
			owns_state = 11
			has_war = no
			custom_trigger_tooltip = {
				tooltip = YAK_dead_rival_warlord_tt
				OR = {
					AND = {
						original_tag = YAH
						owns_state = 11
						NOT = { country_exists = SMH }
					}
					AND = {
						original_tag = SMH
						owns_state = 274
						NOT = { country_exists = YAH }
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_in_array = {
					array = global.YAK_territory
					value = THIS.id
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision claim_the_throne"
			set_country_flag = reformed_YAK
			every_state = {
				limit = {
					is_in_array = {
						array = global.YAK_territory
						value = THIS.id
					}
				}
				add_core_of = ROOT
			}
			set_capital = { state = 11 }
			set_cosmetic_tag = YAK_reborn
			hidden_effect = {
				news_event = {
					id = fhequusnews.6
					days = 1
				}
			}
		}
	}
	integrate_old_territory = {
		available = {
			owns_state = 335
			owns_state = 336
			owns_state = 337
			owns_state = 281
			owns_state = 278
			owns_state = 277
			owns_state = 342
			has_war = no
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 335
				state = 336
				state = 337
				state = 281
				state = 278
				state = 277
				state = 342
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision integrate_old_territory"
			add_state_core = 335
			add_state_core = 336
			add_state_core = 337
			add_state_core = 281
			add_state_core = 278
			add_state_core = 277
			add_state_core = 342
		}
	}
}
form_PLB_category = {
	reform_our_communities = {
		available = {
			owns_state = 290
			has_war = no
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_in_array = {
					array = global.PLB_territory
					value = THIS.id
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision reform_our_communities"
			every_state = {
				limit = {
					is_in_array = {
						array = global.PLB_territory
						value = THIS.id
					}
				}
				add_core_of = ROOT
			}
			set_capital = { state = 290 }
			set_cosmetic_tag = PLB_NEW
		}
	}
}
form_nova_griffonia_cetegory = {
	a_new_nova_griffonia = {
		available = {
			owns_state = 1217
			owns_state = 281
			owns_state = 243
			has_war = no
		}
		visible = {
			AND = {
				NOT = { original_tag = GRF }
				NOT = { has_cosmetic_tag = GRF_EMP }
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_in_array = {
						array = global.GRF_territory
						value = THIS.id
					}
					state = 1217
				}
			}
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision a_new_nova_griffonia"
			every_state = {
				limit = {
					OR = {
						is_in_array = {
							array = global.GRF_territory
							value = THIS.id
						}
						state = 1217
					}
				}
				add_core_of = ROOT
			}
			IF = {
				limit = {
					NOT = {
						1217 = { is_capital = yes }
					}
				}
				set_capital = { state = 1217 }
			}
			IF = {
				limit = {
					NOT = { original_tag = GRF }
				}
				set_cosmetic_tag = GRF_NEW
			}
		}
	}
}
form_western_griffonian_empire_category = {
	GRF_assert_imperial_de_jure_authority = {
		available = {
			owns_state = 281
			owns_state = 243
			has_war = no
		}
		visible = {
			original_tag = GRF
			NOT = { has_country_flag = reformed_western_griffon_empire }
		}
		highlight_states = {
			highlight_states_trigger = {
				is_in_array = {
					array = global.GRF_territory
					value = THIS.id
				}
				OR = {
					is_core_of = NVC
					is_core_of = VRG
				}
			}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 60
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRF_assert_imperial_de_jure_authority"
			set_country_flag = GRF_first_core_expansion
			every_state = {
				limit = {
					is_in_array = {
						array = global.GRF_territory
						value = THIS.id
					}
					OR = {
						is_core_of = NVC
						is_core_of = VRG
					}
				}
				add_core_of = ROOT
			}
		}
	}
	GRF_return_the_old_colonial_borders = {
		available = {
			owns_state = 338
			owns_state = 288
			has_war = no
		}
		visible = {
			original_tag = GRF
			has_country_flag = GRF_first_core_expansion
			NOT = { has_country_flag = reformed_western_griffon_empire }
		}
		highlight_states = {
			highlight_states_trigger = {
				is_in_array = {
					array = global.GRF_territory
					value = THIS.id
				}
				OR = {
					is_core_of = MWR
					is_core_of = SCH
				}
			}
		}
		cost = 35
		fire_only_once = yes
		days_remove = 60
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRF_return_the_old_colonial_borders"
			every_state = {
				limit = {
					is_in_array = {
						array = global.GRF_territory
						value = THIS.id
					}
					OR = {
						is_core_of = MWR
						is_core_of = SCH
					}
				}
				add_core_of = ROOT
			}
		}
	}
	rebirth_of_the_western_empire = {
		available = {
			has_war = no
			owns_state = 1217
			owns_state = 243
			owns_state = 281
			owns_state = 289
			owns_state = 11
			owns_state = 274
			owns_state = 325
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_in_array = {
						array = global.WGE_territory
						value = THIS.id
					}
					state = 1217
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision rebirth_of_the_western_empire"
			set_country_flag = reformed_western_griffon_empire
			every_state = {
				limit = {
					OR = {
						is_in_array = {
							array = global.WGE_territory
							value = THIS.id
						}
						state = 1217
					}
				}
				add_core_of = ROOT
			}
			IF = {
				limit = {
					NOT = {
						has_cosmetic_tag = GRF_EMP
					}
				}
				set_cosmetic_tag = GRF_EMP
			}
			IF = {
				limit = {
					NOT = {
						1217 = { is_capital = yes }
					}
				}
				set_capital = { state = 1217 }
			}
			hidden_effect = {
				news_event = {
					id = fhequusnews.7
					days = 1
				}
			}
		}
	}
}
form_ussre_category = {
	form_ussre = {
		available = {
			has_war = no
			owns_all_equus_states = yes
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_on_continent = europe
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision form_ussre_category"
			every_state = {
				limit = {
					is_on_continent = europe
				}
				add_core_of = ROOT
			}
			set_cosmetic_tag = STG_NEW_USSRE
		}
		ai_will_do = {
			factor = 200
		}
	}
}
form_crystal_sickle_union_category = {
	form_crystal_sickle_union = {
		available = {
			has_war = no
			AND = {
				owns_state = 344
				owns_state = 345
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_core_of = CRY
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision form_crystal_sickle_union"
			every_state = {
				limit = {
					is_core_of = CRY
				}
				add_core_of = ROOT
			}
			if = {
				limit = {
					1220 = {
						is_demilitarized_zone = yes
					}
				}
				1220 = {
					set_demilitarized_zone = no
				}
			}
			set_cosmetic_tag = CWR_CSU
		}
		ai_will_do = {
			factor = 200
		}
	}
}
form_crystal_empire_category = {
	CRY_welcome_back_lost_friends = {
		available = {
			has_war = no
			CWR = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_core_of = CWR
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CRY_welcome_back_lost_friends"
			every_state = {
				limit = {
					is_core_of = CWR
				}
				add_core_of = ROOT
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
}
form_changelingian_protectorates_category = {
	CHN_institute_polar_bear_authority = {
		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_controls_polar_states
				AND = {
					290 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					289 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					272 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					280 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					265 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					62 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 290
				state = 289
				state = 272
				state = 280
				state = 265
				state = 62
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_institute_polar_bear_authority"
			effect_tooltip = {
				release_puppet = JGR
			}

			JGR = {
				add_to_tech_sharing_group = CHN_research
				set_country_flag = is_changeling_puppet
				drop_cosmetic_tag = yes
				set_cosmetic_tag = PLB_CHN_authority
			}
			every_state = {
				limit = {
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
					OR = {
						state = 290
						state = 289
						state = 272
						state = 280
						state = 265
						state = 62
					}
				}
				JGR = { transfer_state = PREV }
			}
			hidden_effect = {
				set_autonomy = {
					target = JGR
					autonomous_state = autonomy_reichsprotectorate
				}
			}
			
			CHN = {
				JGR = { transfer_technology = yes }
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_pacify_the_yaks = {
		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_controls_smushton_states
				AND = {
					11 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					254 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					1225 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					255 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					317 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 11
				state = 254
				state = 1225
				state = 255
				state = 317
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_pacify_the_yaks"
			effect_tooltip = {
				release_puppet = SMH
			}

			SMH = {
				add_to_tech_sharing_group = CHN_research
				set_country_flag = is_changeling_puppet
				drop_cosmetic_tag = yes
				set_cosmetic_tag = YAK_CHN_pacified
			}
			every_state = {
				limit = {
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
					OR = {
						state = 11
						state = 254
						state = 1225
						state = 255
						state = 317
					}
				}
				SMH = { transfer_state = PREV }
			}
			hidden_effect = {
				set_autonomy = {
					target = SMH
					autonomous_state = autonomy_reichsprotectorate
				}
			}
			
			CHN = {
				SMH = { transfer_technology = yes }
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_transfer_northern_territories = {
		available = {
			SMH = {
				is_puppet_of = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = CHN_controls_jan_growlers_states
				AND = {
					257 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					273 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					276 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					275 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					347 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 257
				state = 273
				state = 276
				state = 275
				state = 347
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_transfer_northern_territories"

			every_state = {
				limit = {
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
					OR = {
						state = 257
						state = 273
						state = 276
						state = 275
						state = 347
					}
				}
				SMH = { transfer_state = PREV }
			}
			257 = {
				add_core_of = SMH
			}
			273 = {
				add_core_of = SMH
			}
			276 = {
				add_core_of = SMH
			}
			275 = {
				add_core_of = SMH
			}
			347 = {
				add_core_of = SMH
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_transfer_central_territories = {
		available = {
			SMH = {
				is_puppet_of = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = CHN_yah_clique_states
				AND = {
					256 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					267 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					270 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					268 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					346 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					269 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					274 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 256
				state = 267
				state = 270
				state = 268
				state = 346
				state = 269
				state = 274
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_transfer_central_territories"

			every_state = {
				limit = {
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
					OR = {
						state = 256
						state = 267
						state = 270
						state = 268
						state = 346
						state = 269
						state = 274
					}
				}
				SMH = { transfer_state = PREV }
			}
			256 = {
				add_core_of = SMH
			}
			267 = {
				add_core_of = SMH
			}
			270 = {
				add_core_of = SMH
			}
			268 = {
				add_core_of = SMH
			}
			346 = {
				add_core_of = SMH
			}
			269 = {
				add_core_of = SMH
			}
			274 = {
				add_core_of = SMH
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_achieve_greater_yakyakistan = {
		available = {
			SMH = {
				is_puppet_of = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = CHN_owns_eastern_yak_territories
				AND = {
					277 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					278 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					281 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					340 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					341 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					342 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					253 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					337 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					336 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
					335 = {
						OR = {
							is_owned_and_controlled_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 277
				state = 278
				state = 281
				state = 340
				state = 341
				state = 342
				state = 253
				state = 337
				state = 336
				state = 335
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_achieve_greater_yakyakistan"

			every_state = {
				limit = {
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
					OR = {
						state = 277
						state = 278
						state = 281
						state = 340
						state = 341
						state = 342
						state = 253
						state = 337
						state = 336
						state = 335
					}
				}
				SMH = { transfer_state = PREV }
			}
			277 = {
				add_core_of = SMH
			}
			278 = {
				add_core_of = SMH
			}
			281 = {
				add_core_of = SMH
			}
			340 = {
				add_core_of = SMH
			}
			341 = {
				add_core_of = SMH
			}
			342 = {
				add_core_of = SMH
			}
			253 = {
				add_core_of = SMH
			}
			337 = {
				add_core_of = SMH
			}
			336 = {
				add_core_of = SMH
			}
			335 = {
				add_core_of = SMH
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_protect_the_penguins = {
		available = {
			SCH = {
				all_core_state = {
					OR = {
						is_owned_by = ROOT
						owner = {
							is_puppet_of = ROOT
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_core_of = SCH
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_protect_the_penguins"
			release_puppet = SCH
			SCH = {
				add_to_tech_sharing_group = CHN_research
				set_country_flag = is_changeling_puppet
				drop_cosmetic_tag = yes
				set_cosmetic_tag = PNG_CHN_protectorate
			}
			every_state = {
				limit = {
					is_core_of = SCH
				}
				SCH = { transfer_state = PREV }
				add_core_of = SCH
			}
			CHN = {
				SCH = { transfer_technology = yes }
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_transfer_cannibal_mountains = {
		available = {
			283 = {
				OR = {
					is_owned_by = ROOT
					owner = {
						is_puppet_of = ROOT
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 283
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_transfer_cannibal_mountains"

			283 = {
				SCH = { transfer_state = PREV }
			}
			283 = {
				add_core_of = SCH
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_revive_west_griffonia = {
		available = {
			MWR = {
				all_core_state = {
					OR = {
						is_owned_by = ROOT
						owner = {
							is_puppet_of = ROOT
						}
					}
				}
			}
			NVC = {
				all_core_state = {
					OR = {
						is_owned_by = ROOT
						owner = {
							is_puppet_of = ROOT
						}
					}
				}
			}
			1217 = {
				OR = {
					is_owned_by = ROOT
					owner = {
						is_puppet_of = ROOT
					}
				}
			}
			271 = {
				OR = {
					is_owned_by = ROOT
					owner = {
						is_puppet_of = ROOT
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_core_of = MWR
					is_core_of = NVC
					state = 1217
					state = 271
				}
				if = {
					limit = {
						336 = {
							is_owned_by = SMH
						}
					}
					NOT = {
						state = 336
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_revive_west_griffonia"
			release_puppet = GRF
			GRF = {
				add_to_tech_sharing_group = CHN_research
				set_country_flag = is_changeling_puppet
				drop_cosmetic_tag = yes
				set_cosmetic_tag = GRF_CHN_duchy
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = MWR
						is_core_of = NVC
						state = 1217
						state = 271
						if = {
							limit = {
								336 = {
									is_owned_by = SMH
								}
							}
							NOT = {
								state = 336
							}
						}
					}
				}
				GRF = { transfer_state = PREV }
				add_core_of = GRF
			}

			CHN = {
				GRF = { transfer_technology = yes }
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_crush_communisms_cradle = {
		available = {
			STG = {
				all_core_state = {
					OR = {
						is_owned_by = ROOT
						owner = {
							is_puppet_of = ROOT
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_core_of = STG
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_crush_communisms_cradle"
			release_puppet = STG
			STG = {
				add_to_tech_sharing_group = CHN_research
				set_country_flag = is_changeling_puppet
				drop_cosmetic_tag = yes
				set_cosmetic_tag = STG_CHN_purification
			}
			every_state = {
				limit = {
					is_core_of = STG
				}
				STG = { transfer_state = PREV }
			}

			CHN = {
				STG = { transfer_technology = yes }
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_steal_crystal_love = {
		available = {
			CRY = {
				all_core_state = {
					OR = {
						is_owned_by = ROOT
						owner = {
							is_puppet_of = ROOT
						}
					}
				}
			}
			CWR = {
				all_core_state = {
					OR = {
						is_owned_by = ROOT
						owner = {
							is_puppet_of = ROOT
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_core_of = CRY
					is_core_of = CWR
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_steal_crystal_love"
			release_puppet = CRY
			CRY = {
				add_to_tech_sharing_group = CHN_research
				set_country_flag = is_changeling_puppet
				drop_cosmetic_tag = yes
				set_cosmetic_tag = CRY_CHN_extraction
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = CRY
						is_core_of = CWR
					}
				}
				CRY = { transfer_state = PREV }
				add_core_of = CRY
			}
			if = {
				limit = {
					1220 = {
						is_demilitarized_zone = yes
					}
				}
				1220 = {
					set_demilitarized_zone = no
				}
			}

			CHN = {
				CRY = { transfer_technology = yes }
			}
			#CRY = { #Re-enable in 1.0 if CHN work isn't done
			#	load_focus_tree = generic_focus
			#}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_destroy_the_ponies = {
		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_owns_all_east_and_southeast_states
				EQS = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
				BAL = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
				CER = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
				CLD = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
				NER = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
				WHY = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
				BLS = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
				AWR = {
					all_core_state = {
						OR = {
							is_owned_by = ROOT
							owner = {
								is_puppet_of = ROOT
							}
						}
					}
				}
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					is_core_of = EQS
					is_core_of = BAL
					is_claimed_by = EQS
				}
				NOT = {
					OR = {
						is_core_of = STG
						is_core_of = CHN
						is_core_of = NCA
						is_core_of = CCA
						is_core_of = SCS
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_destroy_the_ponies"
			#Must be first because releasing puppet somehow kills claims
			every_state = {
				limit = {
						OR = {
							is_core_of = EQS
							is_core_of = BAL
							is_claimed_by = EQS
						}
						NOT = {
							OR = {
								is_core_of = STG
								is_core_of = CHN
								is_core_of = NCA
								is_core_of = CCA
								is_core_of = SCS
							}
						}
				}
				add_core_of = EQS
			}
			release_puppet = EQS
			EQS = {
				add_to_tech_sharing_group = CHN_research
				set_country_flag = is_changeling_puppet
				drop_cosmetic_tag = yes
				set_cosmetic_tag = EQS_CHN_occupation
			}

			CHN = {
				EQS = { transfer_technology = yes }
			}
			EQS = {
				load_focus_tree = generic_focus
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	CHN_claim_final_hegemony = {
		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_all_protectorates_established
				OLE = { all_cores_owned_by_ROOT_or_subject = yes }
				CHN = { all_cores_owned_by_ROOT_or_subject = yes }
				CRY = { all_cores_owned_by_ROOT_or_subject = yes }
				CCA = { all_cores_owned_by_ROOT_or_subject = yes }
				NCA = { all_cores_owned_by_ROOT_or_subject = yes }
				SCS = { all_cores_owned_by_ROOT_or_subject = yes }
				SCH = { all_cores_owned_by_ROOT_or_subject = yes }
				SMH = { all_cores_owned_by_ROOT_or_subject = yes }
				STG = { all_cores_owned_by_ROOT_or_subject = yes }
				JGR = { all_cores_owned_by_ROOT_or_subject = yes }
				GRF = { all_cores_owned_by_ROOT_or_subject = yes }
			}
		}
		fire_only_once = yes
		highlight_states = {
			highlight_states_trigger = {
				is_on_continent = europe
				NOT = {
					state = 1196
					state = 1197
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_claim_final_hegemony"
			set_cosmetic_tag = CHN_final_hegemony
			every_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					is_puppet_of = CHN
				}
				ROOT = {
					annex_country = {
						target = PREV
						transfer_troops = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
}
